import "package:flutter_test/flutter_test.dart";
import 'package:gc_wizard/tools/crypto_and_encodings/esoteric_programming_languages/brainfk/logic/brainfk.dart';

void main() {
  group("Brainfk.interpretBrainfk:", () {
    List<Map<String, Object?>> _inputsToExpected = [
      {'code' : '', 'expectedOutput' : ''},
      {'code' : 'ABC123;', 'expectedOutput' : ''},
      {'code' : '++', 'expectedOutput' : ''},

      // https://github.com/zonble/brainf**k_dart/blob/master/test/brainf**k_test.dart
      {'code' : '++++++++++[>++++++++<-]>+++++++.---.--------------.', 'expectedOutput' : 'WTF'},
      // https://en.wikipedia.org/w/index.php?title=Brainf**k&oldid=944639112#Hello_World!
      {'code' : '++++++++[>++++[>++>+++>+++>+<<<<-]>+>+>->>+[<]<-]>>.>---.+++++++..+++.>>.<-.<.+++.------.--------.>>+.>++.', 'expectedOutput' : 'Hello World!\n'},
      // https://github.com/ryantenney/brainf**k/blob/master/examples/helloworld.bf
      {'code' : '++++++++++[>+++++++>++++++++++>+++>+<<<<-]>++.>+.+++++++..+++.>++.<<+++++++++++++++.>.+++.------.--------.>+.>.', 'expectedOutput' : 'Hello World!\n'},
      // https://github.com/ryantenney/brainf**k/blob/master/examples/alphabet.bf
      {'code' : '+++++ +++++ +++++ +++++ +++++ +> +++++ +++++ +++++ +++++ +++++ +++++ +++++ +++++ +++++ +++++ +++++ +++++ +++++ < [>.+<-]', 'expectedOutput' : 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'},
      // https://copy.sh/brainf**k/text.html
      {'code' : '-[--->+<]>-.[---->+++++<]>-.+.++++++++++.+[---->+<]>+++.-[--->++<]>-.++++++++++.+[---->+<]>+++.[-->+++++++<]>.++.-------------.[--->+<]>---..+++++.-[---->+<]>++.+[->+++<]>.++++++++++++..---.[-->+<]>--------.', 'expectedOutput' : 'This is pretty cool.'},
      //Quine: https://github.com/ryantenney/brainf**k/blob/master/examples/quine.bf
      {'code' : '>>+>>+++++>>++>>+++>>+>>++++++>>++>>++>>++>>+++++>>+>>++++>>+>>+++>>+>>+>>++>>++>>+>>+>>+>>+++>>+>>++++++>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>++>>+++++++>>+++++++++++++++++++>>++++>>+>>++>>+>>+++++>>+>>++++>>+>>+++>>+>>+++++++>>+>>++>>+>>++++++>>+>>+++>>+>>+++++>>+>>++++>>+>>++++++>>+>>+++>>+>>+++++>>+>>++++>>+>>++>>+>>+>>+>>+++>>+>>++++++>>+++>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>+++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++>>+++>>+>>++++++>>++++>>++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++++>>++>>+>>++++++>>++++>>+++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++>>+++>>+>>++++++>>++++>>++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++++>>++>>+>>++++++>>++++>>+++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++>>+++>>+>>++++++>>++++>>++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++++>>++>>+>>++++++>>++++>>+++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++>>+++>>+>>++++++>>++>>++>>++>>+++++>>+>>++++>>++>>++>>+>>+++++++>>++>>+++>>+>>++++++>>++++>>++>>+>>++++++[<<]>>[[-<+>>+<]++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++..------------------->[-<.>]<[-]<[->+<]>>>]<<[-<+>[<-]>[>]<<[>+++++++++++++++++++++++++++++++++++++++++++++++++<-]<<<]>>>>[-<+>[<-]>[>]<<[>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<-]>>>>>]<<<<[-<+>[<-]>[>]<<[>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<-]<<<]>>>>[-<+>[<-]>[>]<<[>++++++++++++++++++++++++++++++++++++++++++++++++<-]>>>>>]<<<<[-<+>[<-]>[>]<<[>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<-]<<<]>>>>[-<+>[<-]>[>]<<[>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<-]>>>>>]<<<<[-<+>[<-]>[>]<<[>++++++++++++++++++++++++++++++++++++++++++++++<-]<<<]>>[[->>.<<]>>>>]', 'expectedOutput' : '>>+>>+++++>>++>>+++>>+>>++++++>>++>>++>>++>>+++++>>+>>++++>>+>>+++>>+>>+>>++>>++>>+>>+>>+>>+++>>+>>++++++>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>++>>+++++++>>+++++++++++++++++++>>++++>>+>>++>>+>>+++++>>+>>++++>>+>>+++>>+>>+++++++>>+>>++>>+>>++++++>>+>>+++>>+>>+++++>>+>>++++>>+>>++++++>>+>>+++>>+>>+++++>>+>>++++>>+>>++>>+>>+>>+>>+++>>+>>++++++>>+++>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>+++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++>>+++>>+>>++++++>>++++>>++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++++>>++>>+>>++++++>>++++>>+++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++>>+++>>+>>++++++>>++++>>++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++++>>++>>+>>++++++>>++++>>+++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++>>+++>>+>>++++++>>++++>>++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++++>>++>>+>>++++++>>++++>>+++>>+>>+++++>>+>>++++>>+>>+++>>+>>+>>+>>++>>+>>+++++>>+>>+++>>+>>++++>>+>>++++++>>+>>++>>+>>+++++>>+>>++>>+>>++++++>>++>>+++>>+>>+++++>>+>>++>>++++++++++++++++++++++++++++++++++++++++++++++>>+>>+>>+++>>+>>++++>>+>>++++++>>+++>>+++>>+>>++++++>>++>>++>>++>>+++++>>+>>++++>>++>>++>>+>>+++++++>>++>>+++>>+>>++++++>>++++>>++>>+>>++++++[<<]>>[[-<+>>+<]++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++..------------------->[-<.>]<[-]<[->+<]>>>]<<[-<+>[<-]>[>]<<[>+++++++++++++++++++++++++++++++++++++++++++++++++<-]<<<]>>>>[-<+>[<-]>[>]<<[>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<-]>>>>>]<<<<[-<+>[<-]>[>]<<[>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<-]<<<]>>>>[-<+>[<-]>[>]<<[>++++++++++++++++++++++++++++++++++++++++++++++++<-]>>>>>]<<<<[-<+>[<-]>[>]<<[>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<-]<<<]>>>>[-<+>[<-]>[>]<<[>++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<-]>>>>>]<<<<[-<+>[<-]>[>]<<[>++++++++++++++++++++++++++++++++++++++++++++++<-]<<<]>>[[->>.<<]>>>>]'},

      //Input copy
      {'code' : ',[.,]', 'input': 'ABC123', 'expectedOutput' : 'ABC123'},
      //ROT13: https://en.wikipedia.org/w/index.php?title=Brainf**k&oldid=944639112#ROT13
      {'code' : '-,+[-[>>++++[>++++++++<-]<+<-[>+>+>-[>>>]<[[>+<-]>>+>]<<<<<-]]>>>[-]+>--[-[<->+++[-]]]<[++++++++++++<[>-[>+>>]>[+[<+>-]>+>>]<<<<<-]>>[<+>-]>[-[-<<[-]>>]<<[<<->>-]>>]<<[<<+>>-]]<[-]<.[-]<-,+]', 'input': 'ABC123', 'expectedOutput' : 'NOP123'},
    ];

    for (var elem in _inputsToExpected) {
      test('code: ${elem['code']}, input: ${elem['input']}', () {
        var _actual = interpretBrainfk(elem['code'] as String, input: elem['input'] as String?);
        expect(_actual, elem['expectedOutput']);
      });
    }
  });
}